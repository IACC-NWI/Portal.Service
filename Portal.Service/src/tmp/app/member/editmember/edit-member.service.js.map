{"version":3,"sources":["app/member/editmember/edit-member.service.ts"],"names":[],"mappings":"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","file":"edit-member.service.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Observable, } from 'rxjs/Observable';\r\nimport * as moment from 'moment';\r\n\r\nimport { MemberModel } from '../member.model';\r\ndeclare var SERVICE_URL;\r\n\r\n@Injectable()\r\nexport class EditMemberService {\r\n    private serviceUrls: any;\r\n\r\n    constructor(private http: Http) {\r\n        this.serviceUrls = SERVICE_URL;\r\n    }\r\n    public getMemberById(memberId: string) {\r\n        return this.http.get(this.serviceUrls.MEMBER_SERVICE + '/api/member/lookupbyid/' + memberId)\r\n            .map(res => {\r\n                return this.convertJsonToMember(res);\r\n            })\r\n            .catch((error, source) => {\r\n                if (error.status === 400) {\r\n                    console.log('Bad Model.');\r\n                }\r\n            });\r\n    }\r\n    public updateMember(memberModel: MemberModel) {\r\n        return this.http.post(this.serviceUrls.MEMBER_SERVICE + '/api/member/updatemember', memberModel)\r\n            .map(res => {\r\n                return this.convertJsonToMember(res);\r\n            })\r\n            .catch((error, source) => {\r\n                if (error.status === 400) {\r\n                    console.log('Bad Model.');\r\n                }\r\n            });\r\n    }\r\n    public getFamily(parentMemberId: string) {\r\n        return this.http.get(this.serviceUrls.MEMBER_SERVICE + '/api/member/getfamily/' + parentMemberId)\r\n            .map(res => {\r\n                return this.convertJsonToListOfMembers(res);\r\n            })\r\n            .catch((error, source) => {\r\n                if (error.status === 400) {\r\n                    console.log('Bad Model.');\r\n                }\r\n            });\r\n    }\r\n    convertJsonToMember(data: any): MemberModel {\r\n        let memberData = data.json() || {};\r\n        let retMember = new MemberModel();\r\n        retMember.MemberId = memberData.MemberId;\r\n        retMember.MemberSince = memberData.MemberSince;\r\n        retMember.PhoneNumber = memberData.PhoneNumber;\r\n        retMember.FirstName = memberData.FirstName;\r\n        retMember.LastName = memberData.LastName;\r\n        retMember.AddressLine1 = memberData.AddressLine1;\r\n        retMember.AddressLine2 = memberData.AddressLine2;\r\n        retMember.City = memberData.City;\r\n        retMember.State = memberData.State;\r\n        retMember.Zip = memberData.Zip;\r\n        retMember.HasChildren = memberData.HasChildren;\r\n        retMember.HasParent = memberData.HasParent;\r\n        retMember.ParentMemberId = memberData.ParentMemberId;\r\n        retMember.Email = memberData.Email;\r\n        return retMember;\r\n    }\r\n    convertJsonToListOfMembers(data: any): MemberModel[] {\r\n        let memberData = data.json() || [];\r\n        let retData = new Array<MemberModel>();\r\n        memberData.forEach(item => {\r\n            let mem = new MemberModel();\r\n            mem.MemberId = item.MemberId;\r\n            mem.MemberSince = moment(item.MemberSince).format('MM/DD/YYYY');\r\n            mem.PhoneNumber = item.PhoneNumber;\r\n            mem.FirstName = item.FirstName;\r\n            mem.LastName = item.LastName;\r\n            mem.AddressLine1 = item.AddressLine1;\r\n            mem.AddressLine2 = item.AddressLine2;\r\n            mem.City = item.City;\r\n            mem.State = item.State;\r\n            mem.Zip = item.Zip;\r\n            mem.HasChildren = item.HasChildren;\r\n            mem.HasParent = item.HasParent;\r\n            mem.ParentMemberId = item.ParentMemberId;\r\n            mem.Email = item.Email;\r\n            retData.push(mem);\r\n        });\r\n        return retData;\r\n    }\r\n\r\n}"]}